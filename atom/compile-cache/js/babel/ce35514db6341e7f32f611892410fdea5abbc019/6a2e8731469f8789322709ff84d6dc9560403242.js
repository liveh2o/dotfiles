function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _libProvider = require('../lib/provider');

var _libProvider2 = _interopRequireDefault(_libProvider);

describe('Provider', function () {
  var provider = undefined;

  beforeEach(function () {
    provider = new _libProvider2['default']();
  });
  afterEach(function () {
    provider.dispose();
  });

  it('emits add event properly', function () {
    var timesTriggered = 0;

    provider.onDidAdd(function (title) {
      if (timesTriggered === 0) {
        expect(title).toBe('First');
      } else if (timesTriggered === 1) {
        expect(title).toBe('Second');
      } else if (timesTriggered === 2) {
        expect(title).toBe('Third');
      } else {
        expect(false).toBe(true);
      }
      timesTriggered++;
    });
    expect(timesTriggered).toBe(0);
    provider.add('First');
    expect(timesTriggered).toBe(1);
    provider.add('Second');
    expect(timesTriggered).toBe(2);
    provider.add('Third');
    expect(timesTriggered).toBe(3);
  });
  it('emits remove event properly', function () {
    var timesTriggered = 0;

    provider.onDidRemove(function (title) {
      if (timesTriggered === 0) {
        expect(title).toBe('First');
      } else if (timesTriggered === 1) {
        expect(title).toBe('Second');
      } else if (timesTriggered === 2) {
        expect(title).toBe('Third');
      } else {
        expect(false).toBe(true);
      }
      timesTriggered++;
    });

    expect(timesTriggered).toBe(0);
    provider.remove('First');
    expect(timesTriggered).toBe(1);
    provider.remove('Second');
    expect(timesTriggered).toBe(2);
    provider.remove('Third');
    expect(timesTriggered).toBe(3);
  });
  it('emits clear event properly', function () {
    var timesTriggered = 0;

    provider.onDidClear(function () {
      timesTriggered++;
    });

    expect(timesTriggered).toBe(0);
    provider.clear();
    expect(timesTriggered).toBe(1);
    provider.clear();
    expect(timesTriggered).toBe(2);
    provider.clear();
    expect(timesTriggered).toBe(3);
    provider.clear();
    expect(timesTriggered).toBe(4);
  });
  it('emits destroy event properly', function () {
    var timesTriggered = 0;

    provider.onDidDispose(function () {
      timesTriggered++;
    });

    expect(timesTriggered).toBe(0);
    provider.dispose();
    expect(timesTriggered).toBe(1);
    provider.dispose();
    expect(timesTriggered).toBe(1);
    provider.dispose();
    expect(timesTriggered).toBe(1);
    provider.dispose();
    expect(timesTriggered).toBe(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haC8uYXRvbS9wYWNrYWdlcy9idXN5LXNpZ25hbC9zcGVjL3Byb3ZpZGVyLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7MkJBRXFCLGlCQUFpQjs7OztBQUV0QyxRQUFRLENBQUMsVUFBVSxFQUFFLFlBQVc7QUFDOUIsTUFBSSxRQUFRLFlBQUEsQ0FBQTs7QUFFWixZQUFVLENBQUMsWUFBVztBQUNwQixZQUFRLEdBQUcsOEJBQWMsQ0FBQTtHQUMxQixDQUFDLENBQUE7QUFDRixXQUFTLENBQUMsWUFBVztBQUNuQixZQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7R0FDbkIsQ0FBQyxDQUFBOztBQUVGLElBQUUsQ0FBQywwQkFBMEIsRUFBRSxZQUFXO0FBQ3hDLFFBQUksY0FBYyxHQUFHLENBQUMsQ0FBQTs7QUFFdEIsWUFBUSxDQUFDLFFBQVEsQ0FBQyxVQUFTLEtBQUssRUFBRTtBQUNoQyxVQUFJLGNBQWMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsY0FBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtPQUM1QixNQUFNLElBQUksY0FBYyxLQUFLLENBQUMsRUFBRTtBQUMvQixjQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO09BQzdCLE1BQU0sSUFBSSxjQUFjLEtBQUssQ0FBQyxFQUFFO0FBQy9CLGNBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7T0FDNUIsTUFBTTtBQUNMLGNBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7T0FDekI7QUFDRCxvQkFBYyxFQUFFLENBQUE7S0FDakIsQ0FBQyxDQUFBO0FBQ0YsVUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUM5QixZQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FB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QUVGLFVBQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUIsWUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ2xCLFVBQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUIsWUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ2xCLFVBQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUIsWUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ2xCLFVBQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUIsWUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ2xCLFVBQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7R0FDL0IsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBIiwiZmlsZSI6Ii9Vc2Vycy9haC8uYXRvbS9wYWNrYWdlcy9idXN5LXNpZ25hbC9zcGVjL3Byb3ZpZGVyLXNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuXG5pbXBvcnQgUHJvdmlkZXIgZnJvbSAnLi4vbGliL3Byb3ZpZGVyJ1xuXG5kZXNjcmliZSgnUHJvdmlkZXInLCBmdW5jdGlvbigpIHtcbiAgbGV0IHByb3ZpZGVyXG5cbiAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlciA9IG5ldyBQcm92aWRlcigpXG4gIH0pXG4gIGFmdGVyRWFjaChmdW5jdGlvbigpIHtcbiAgICBwcm92aWRlci5kaXNwb3NlKClcbiAgfSlcblxuICBpdCgnZW1pdHMgYWRkIGV2ZW50IHByb3Blcmx5JywgZnVuY3Rpb24oKSB7XG4gICAgbGV0IHRpbWVzVHJpZ2dlcmVkID0gMFxuXG4gICAgcHJvdmlkZXIub25EaWRBZGQoZnVuY3Rpb24odGl0bGUpIHtcbiAgICAgIGlmICh0aW1lc1RyaWdnZXJlZCA9PT0gMCkge1xuICAgICAgICBleHBlY3QodGl0bGUpLnRvQmUoJ0ZpcnN0JylcbiAgICAgIH0gZWxzZSBpZiAodGltZXNUcmlnZ2VyZWQgPT09IDEpIHtcbiAgICAgICAgZXhwZWN0KHRpdGxlKS50b0JlKCdTZWNvbmQnKVxuICAgICAgfSBlbHNlIGlmICh0aW1lc1RyaWdnZXJlZCA9PT0gMikge1xuICAgICAgICBleHBlY3QodGl0bGUpLnRvQmUoJ1RoaXJkJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cGVjdChmYWxzZSkudG9CZSh0cnVlKVxuICAgICAgfVxuICAgICAgdGltZXNUcmlnZ2VyZWQrK1xuICAgIH0pXG4gICAgZXhwZWN0KHRpbWVzVHJpZ2dlcmVkKS50b0JlKDApXG4gICAgcHJvdmlkZXIuYWRkKCdGaXJzdCcpXG4gICAgZXhwZWN0KHRpbWVzVHJpZ2dlcmVkKS50b0JlKDEpXG4gICAgcHJvdmlkZXIuYWRkKCdTZWNvbmQnKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgyKVxuICAgIHByb3ZpZGVyLmFkZCgnVGhpcmQnKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgzKVxuICB9KVxuICBpdCgnZW1pdHMgcmVtb3ZlIGV2ZW50IHByb3Blcmx5JywgZnVuY3Rpb24oKSB7XG4gICAgbGV0IHRpbWVzVHJpZ2dlcmVkID0gMFxuXG4gICAgcHJvdmlkZXIub25EaWRSZW1vdmUoZnVuY3Rpb24odGl0bGUpIHtcbiAgICAgIGlmICh0aW1lc1RyaWdnZXJlZCA9PT0gMCkge1xuICAgICAgICBleHBlY3QodGl0bGUpLnRvQmUoJ0ZpcnN0JylcbiAgICAgIH0gZWxzZSBpZiAodGltZXNUcmlnZ2VyZWQgPT09IDEpIHtcbiAgICAgICAgZXhwZWN0KHRpdGxlKS50b0JlKCdTZWNvbmQnKVxuICAgICAgfSBlbHNlIGlmICh0aW1lc1RyaWdnZXJlZCA9PT0gMikge1xuICAgICAgICBleHBlY3QodGl0bGUpLnRvQmUoJ1RoaXJkJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cGVjdChmYWxzZSkudG9CZSh0cnVlKVxuICAgICAgfVxuICAgICAgdGltZXNUcmlnZ2VyZWQrK1xuICAgIH0pXG5cbiAgICBleHBlY3QodGltZXNUcmlnZ2VyZWQpLnRvQmUoMClcbiAgICBwcm92aWRlci5yZW1vdmUoJ0ZpcnN0JylcbiAgICBleHBlY3QodGltZXNUcmlnZ2VyZWQpLnRvQmUoMSlcbiAgICBwcm92aWRlci5yZW1vdmUoJ1NlY29uZCcpXG4gICAgZXhwZWN0KHRpbWVzVHJpZ2dlcmVkKS50b0JlKDIpXG4gICAgcHJvdmlkZXIucmVtb3ZlKCdUaGlyZCcpXG4gICAgZXhwZWN0KHRpbWVzVHJpZ2dlcmVkKS50b0JlKDMpXG4gIH0pXG4gIGl0KCdlbWl0cyBjbGVhciBldmVudCBwcm9wZXJseScsIGZ1bmN0aW9uKCkge1xuICAgIGxldCB0aW1lc1RyaWdnZXJlZCA9IDBcblxuICAgIHByb3ZpZGVyLm9uRGlkQ2xlYXIoZnVuY3Rpb24oKSB7XG4gICAgICB0aW1lc1RyaWdnZXJlZCsrXG4gICAgfSlcblxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgwKVxuICAgIHByb3ZpZGVyLmNsZWFyKClcbiAgICBleHBlY3QodGltZXNUcmlnZ2VyZWQpLnRvQmUoMSlcbiAgICBwcm92aWRlci5jbGVhcigpXG4gICAgZXhwZWN0KHRpbWVzVHJpZ2dlcmVkKS50b0JlKDIpXG4gICAgcHJvdmlkZXIuY2xlYXIoKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgzKVxuICAgIHByb3ZpZGVyLmNsZWFyKClcbiAgICBleHBlY3QodGltZXNUcmlnZ2VyZWQpLnRvQmUoNClcbiAgfSlcbiAgaXQoJ2VtaXRzIGRlc3Ryb3kgZXZlbnQgcHJvcGVybHknLCBmdW5jdGlvbigpIHtcbiAgICBsZXQgdGltZXNUcmlnZ2VyZWQgPSAwXG5cbiAgICBwcm92aWRlci5vbkRpZERpc3Bvc2UoZnVuY3Rpb24oKSB7XG4gICAgICB0aW1lc1RyaWdnZXJlZCsrXG4gICAgfSlcblxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgwKVxuICAgIHByb3ZpZGVyLmRpc3Bvc2UoKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgxKVxuICAgIHByb3ZpZGVyLmRpc3Bvc2UoKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgxKVxuICAgIHByb3ZpZGVyLmRpc3Bvc2UoKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgxKVxuICAgIHByb3ZpZGVyLmRpc3Bvc2UoKVxuICAgIGV4cGVjdCh0aW1lc1RyaWdnZXJlZCkudG9CZSgxKVxuICB9KVxufSlcbiJdfQ==