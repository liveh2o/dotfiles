Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = repositoryForEditorPath;

var _atom = require('atom');

/**
 * Given a pathString for a file in an active TextEditor
 *
 * @param  {String} pathString
 * @return {Promise<GitRepository>}
 */
'use babel';

function repositoryForEditorPath(pathString) {
  var directory = new _atom.Directory(pathString);

  return atom.project.repositoryForDirectory(directory).then(function (projectRepo) {
    if (!projectRepo) {
      throw new Error('Unable to find GitRepository for path ' + pathString + '.');
    }

    return projectRepo;
  });
}

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haC8uYXRvbS9wYWNrYWdlcy9naXQtYmxhbWUvbGliL3V0aWwvcmVwb3NpdG9yeUZvckVkaXRvclBhdGguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O3FCQVV3Qix1QkFBdUI7O29CQVJyQixNQUFNOzs7Ozs7OztBQUZoQyxXQUFXLENBQUM7O0FBVUcsU0FBUyx1QkFBdUIsQ0FBQyxVQUFVLEVBQUU7QUFDMUQsTUFBTSxTQUFTLEdBQUcsb0JBQWMsVUFBVSxDQUFDLENBQUM7O0FBRTVDLFNBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLENBQUMsQ0FDbEQsSUFBSSxDQUFDLFVBQUEsV0FBVyxFQUFJO0FBQ25CLFFBQUksQ0FBQyxXQUFXLEVBQUU7QUFDaEIsWUFBTSxJQUFJLEtBQUssNENBQTBDLFVBQVUsT0FBSSxDQUFDO0tBQ3pFOztBQUVELFdBQU8sV0FBVyxDQUFDO0dBQ3BCLENBQUMsQ0FBQztDQUNOIiwiZmlsZSI6Ii9Vc2Vycy9haC8uYXRvbS9wYWNrYWdlcy9naXQtYmxhbWUvbGliL3V0aWwvcmVwb3NpdG9yeUZvckVkaXRvclBhdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcblxuaW1wb3J0IHsgRGlyZWN0b3J5IH0gZnJvbSAnYXRvbSc7XG5cbi8qKlxuICogR2l2ZW4gYSBwYXRoU3RyaW5nIGZvciBhIGZpbGUgaW4gYW4gYWN0aXZlIFRleHRFZGl0b3JcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHBhdGhTdHJpbmdcbiAqIEByZXR1cm4ge1Byb21pc2U8R2l0UmVwb3NpdG9yeT59XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcG9zaXRvcnlGb3JFZGl0b3JQYXRoKHBhdGhTdHJpbmcpIHtcbiAgY29uc3QgZGlyZWN0b3J5ID0gbmV3IERpcmVjdG9yeShwYXRoU3RyaW5nKTtcblxuICByZXR1cm4gYXRvbS5wcm9qZWN0LnJlcG9zaXRvcnlGb3JEaXJlY3RvcnkoZGlyZWN0b3J5KVxuICAgIC50aGVuKHByb2plY3RSZXBvID0+IHtcbiAgICAgIGlmICghcHJvamVjdFJlcG8pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBHaXRSZXBvc2l0b3J5IGZvciBwYXRoICR7cGF0aFN0cmluZ30uYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9qZWN0UmVwbztcbiAgICB9KTtcbn1cbiJdfQ==